{"version":3,"sources":["webpack:///./src/views/editors/common/upload-image.js","webpack:///./src/views/editors/wang-editor/WangEditor.vue?4004","webpack:///./src/views/editors/wang-editor/index.vue?0b99","webpack:///./src/views/editors/wang-editor/WangEditor.vue?8029","webpack:///src/views/editors/wang-editor/WangEditor.vue","webpack:///./src/views/editors/wang-editor/WangEditor.vue?8b78","webpack:///./src/views/editors/wang-editor/WangEditor.vue","webpack:///./src/views/editors/wang-editor/README.md?fa93","webpack:///./src/views/editors/wang-editor/README.md","webpack:///src/views/editors/wang-editor/index.vue","webpack:///./src/views/editors/wang-editor/index.vue?cd8f","webpack:///./src/views/editors/wang-editor/index.vue"],"names":["uploadImage","file","mo","getObjectURL","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","expression","staticRenderFns","ref","name","props","placeholder","height","prop","event","data","editor","watch","val","txt","html","methods","initEditor","config","uploadImgMaxLength","menus","onchange","handleContentChange","customUploadImg","handleUploadImage","create","$emit","newHtml","mounted","beforeDestroy","destroy","component","_m","_v","pre","script","components","Editor","README","computed","created","getData"],"mappings":"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","file":"static/js/chunk-491814c8.47f680fc.js","sourcesContent":["import mo from 'more-utils'\n\n/**\n * 上传图片接口\n * @param {*} file\n * @param {*} type  上传目录\n *  人物 person\n *  项目 product\n *  机构 agency\n *  附件 annex\n */\nasync function uploadImage(file) {\n  /**此处实现具体的上传逻辑 */\n  //   console.log(res);\n  return mo.getObjectURL(file);\n}\n\nexport default uploadImage;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WangEditor.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"markdown-body\"},[_c('README')],1),_c('Editor',{attrs:{\"height\":300},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"editor\",staticClass:\"mo-wang-editor\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"mo-wang-editor\"\n    ref=\"editor\"\n  ></div>\n</template>\n\n<script>\nimport E from 'wangeditor';\nimport uploadImage from '../common/upload-image.js';\n\n/**\n * wangEditor 编辑器\n * 文档 https://doc.wangeditor.com/\n */\nexport default {\n  name: 'Editor',\n\n  props: {\n    // v-model\n    value: { type: String, required: true },\n\n    // placeholder\n    placeholder: { type: String, default: '' },\n\n    // height\n    height: { type: Number | String, default: 100 },\n  },\n\n  model: {\n    prop: 'value',\n    event: 'change',\n  },\n\n  data() {\n    return {\n      editor: null,\n    };\n  },\n\n  watch: {\n    // 不能用箭头函数\n    value(val) {\n      // 如果值不相等再进行赋值，避免多次赋值造成闪烁\n      if (this.editor && val !== this.editor.txt.html()) {\n        this.editor.txt.html(val);\n      }\n    },\n  },\n\n  methods: {\n    initEditor() {\n      const editor = new E(this.$refs.editor);\n      editor.config.placeholder = this.placeholder;\n      editor.config.height = this.height;\n\n      // 限制类型\n      // editor.config.uploadImgAccept = ['jpg', 'jpeg', 'png', 'gif', 'bmp']\n      editor.config.uploadImgMaxLength = 1; // 一次最多上传 5 个图片\n\n      // 配置菜单栏，删减菜单，调整顺序\n      editor.config.menus = [\n        'undo', // 撤销\n        'redo', // 重复\n        'head', // 标题\n        'bold', // 粗体\n        'fontSize', // 字号\n        //   'fontName', // 字体\n        'italic', // 斜体\n        'underline', // 下划线\n        'strikeThrough', // 删除线\n        'indent', // 缩进\n        'lineHeight', // 行高\n        'foreColor', // 文字颜色\n        'backColor', // 背景颜色\n        'link', // 插入链接\n        'list', // 列表\n        'todo', // 待办\n        'justify', // 对齐方式\n        'quote', // 引用\n        // 'emoticon',\n        'image', // 插入图片\n        'video', // 视频\n        //   'table',  // 表格\n        //   'code',  // 插入代码\n        'splitLine', // 分割线\n      ];\n\n      // 监听数据变化\n      editor.config.onchange = this.handleContentChange;\n      // 自己实现上传图片\n      editor.config.customUploadImg = this.handleUploadImage;\n\n      // 创建编辑器\n      editor.create();\n      // 赋予初始值\n      editor.txt.html(this.value);\n\n      this.editor = editor;\n    },\n\n    handleContentChange(newHtml) {\n      this.$emit('change', newHtml);\n    },\n\n    /**\n     * resultFiles 是 input 中选中的文件列表\n     * insertImgFn 是获取图片 url 后，插入到编辑器的方法\n     */\n    async handleUploadImage(resultFiles, insertImgFn) {\n      const imgUrl = await uploadImage(resultFiles[0]);\n      // 上传图片，返回结果，将图片插入到编辑器中\n      insertImgFn(imgUrl);\n    },\n  },\n\n  mounted() {\n    // 初始化\n    this.initEditor();\n  },\n\n  beforeDestroy() {\n    // 调用销毁 API 对当前编辑器实例进行销毁\n    this.editor.destroy();\n    this.editor = null;\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import './index.scss';\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WangEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WangEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WangEditor.vue?vue&type=template&id=6f501dd4&\"\nimport script from \"./WangEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./WangEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WangEditor.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h1',[_vm._v(\"wangEditor\")]),_c('p',[_vm._v(\"轻量级 web 富文本编辑器，配置方便，使用简单。\")]),_c('ul',[_c('li',[_vm._v(\"官网：\"),_c('a',{attrs:{\"href\":\"https://www.wangeditor.com/\"}},[_vm._v(\"www.wangEditor.com\")])]),_c('li',[_vm._v(\"文档：\"),_c('a',{attrs:{\"href\":\"https://doc.wangeditor.com/\"}},[_vm._v(\"doc.wangEditor.com\")])]),_c('li',[_vm._v(\"源码：\"),_c('a',{attrs:{\"href\":\"https://github.com/wangeditor-team/wangEditor\"}},[_vm._v(\"github.com/wangeditor-team/wangEditor\")])])]),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\",\"class\":\"language-bash\"}},[_vm._v(\"npm i wangeditor --save\\n\")])])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./README.md?vue&type=template&id=fe7e3c7a&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"app-container\">\n\n    <div class=\"markdown-body\">\n      <README />\n    </div>\n\n    <Editor\n      v-model=\"value\"\n      :height=\"300\"\n    />\n  </div>\n</template>\n\n<script>\nimport Editor from './WangEditor.vue';\nimport README from './README.md';\n\nexport default {\n  name: '',\n\n  props: [],\n\n  components: {\n    Editor,\n    README,\n  },\n\n  data() {\n    return {\n      value: '',\n    };\n  },\n\n  computed: {},\n\n  methods: {\n    async getData() {},\n  },\n\n  created() {\n    this.getData();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5a50acb4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a50acb4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}